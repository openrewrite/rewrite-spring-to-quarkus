# Copyright 2025 the original author or authors.
# <p>
# Licensed under the Moderne Source Available License (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://docs.moderne.io/licensing/moderne-source-available-license
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.AddQuarkusMavenPlugin
examples:
- description: '`AddQuarkusMavenPluginTest#addPlugin`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.17.0</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.17.0</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <build>
              <plugins>
                  <plugin>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-maven-plugin</artifactId>
                      <version>3.17.0</version>
                      <executions>
                          <execution>
                              <goals>
                                  <goal>build</goal>
                                  <goal>generate-code</goal>
                                  <goal>generate-code-tests</goal>
                              </goals>
                          </execution>
                      </executions>
                      <extensions>true</extensions>
                  </plugin>
              </plugins>
          </build>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.AddSpringCompatibilityExtensions
examples:
- description: '`AddSpringCompatibilityExtensionsTest#addSpringCompatibilityExtensionsForCommonAnnotations`'
  sources:
  - before: |
      import org.springframework.stereotype.Service;
      import org.springframework.beans.factory.annotation.Autowired;
      import org.springframework.data.repository.Repository;

      @Service
      class DemoService {

          @Autowired
          private Repository<?,?> repository;

          public void doSomething() {
              // business logic
          }
      }
    language: java
  - before: |
      import org.springframework.stereotype.Service;
      import org.springframework.web.bind.annotation.RestController;
      import org.springframework.web.bind.annotation.GetMapping;

      @RestController
      class DemoController {

          @GetMapping("/hello")
          public String hello() {
              return "Hello World";
          }
      }
    language: java
  - before: project
    language: mavenProject
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-spring-di</artifactId>
              </dependency>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-spring-web</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.CustomizeQuarkusPluginGoals
examples:
- description: '`CustomizeQuarkusPluginGoalsTest#addNativeProfile`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <profiles>
              <profile>
                  <id>native</id>
                  <activation>
                      <property>
                          <name>native</name>
                      </property>
                  </activation>
                  <properties>
                      <quarkus.package.type>native</quarkus.package.type>
                      <quarkus.native.enabled>true</quarkus.native.enabled>
                  </properties>
              </profile>
              <profile>
                  <id>container</id>
                  <activation>
                      <property>
                          <name>container</name>
                      </property>
                  </activation>
                  <properties>
                      <quarkus.container-image.build>true</quarkus.container-image.build>
                  </properties>
              </profile>
          </profiles>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.CustomizeQuarkusVersion
examples:
- description: '`CustomizeQuarkusVersionTest#updateQuarkusBomVersion`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>2.16.12.Final</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.EnableAnnotationsToQuarkusDependencies
examples:
- description: '`EnableAnnotationsToQuarkusDependenciesTest#convertEnableSchedulingToQuarkusScheduler`'
  sources:
  - before: |
      import org.springframework.scheduling.annotation.EnableScheduling;

      @EnableScheduling
      class SchedulingConfig {
      }
    after: |
      class SchedulingConfig {
      }
    language: java
  - before: project
    language: mavenProject
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-scheduler</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.JpaEntityToPanacheEntity
examples:
- description: '`JpaEntityToPanacheEntityTest#convertEntityToPanacheEntity`'
  sources:
  - before: |
      import jakarta.persistence.Entity;
      import jakarta.persistence.Id;
      import jakarta.persistence.GeneratedValue;

      @Entity
      public class User {
          @Id
          @GeneratedValue
          private Long id;

          private String name;
          private String email;

          public Long getId() { return id; }
          public void setId(Long id) { this.id = id; }
          public String getName() { return name; }
          public void setName(String name) { this.name = name; }
          public String getEmail() { return email; }
          public void setEmail(String email) { this.email = email; }
      }
    after: |
      import io.quarkus.hibernate.orm.panache.PanacheEntity;
      import jakarta.persistence.Entity;

      @Entity
      public class User extends PanacheEntity {

          private String name;
          private String email;
          public String getName() { return name; }
          public void setName(String name) { this.name = name; }
          public String getEmail() { return email; }
          public void setEmail(String email) { this.email = email; }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateBootStarters
examples:
- description: '`MigrateBootStartersTest#migrateWebWithoutReactor`'
  sources:
  - before: |
      <project>
          <parent>
              <groupId>org.springframework.boot</groupId>
              <artifactId>spring-boot-starter-parent</artifactId>
              <version>3.1.0</version>
              <relativePath/>
          </parent>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-starter-web</artifactId>
              </dependency>
          </dependencies>
      </project>
    after: |
      <project>
          <parent>
              <groupId>org.springframework.boot</groupId>
              <artifactId>spring-boot-starter-parent</artifactId>
              <version>3.1.0</version>
              <relativePath/>
          </parent>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-resteasy-jackson</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateConfigurationProperties
examples:
- description: '`MigrateConfigurationPropertiesTest#convertConfigurationPropertiesToConfigMapping`'
  sources:
  - before: |
      import org.springframework.boot.context.properties.ConfigurationProperties;

      @ConfigurationProperties(prefix = "app")
      public class AppProperties {
          private String name;
          private int timeout;

          public String getName() {
              return name;
          }

          public void setName(String name) {
              this.name = name;
          }

          public int getTimeout() {
              return timeout;
          }

          public void setTimeout(int timeout) {
              this.timeout = timeout;
          }
      }
    after: |
      import io.smallrye.config.ConfigMapping;

      @ConfigMapping(prefix = "app")
      public class AppProperties {
          private String name;
          private int timeout;

          public String getName() {
              return name;
          }

          public void setName(String name) {
              this.name = name;
          }

          public int getTimeout() {
              return timeout;
          }

          public void setTimeout(int timeout) {
              this.timeout = timeout;
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateDatabaseDrivers
examples:
- description: '`MigrateDatabaseDriversTest#migratePostgreSQLDriver`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>org.postgresql</groupId>
                  <artifactId>postgresql</artifactId>
                  <version>42.7.7</version>
                  <scope>runtime</scope>
              </dependency>
          </dependencies>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-jdbc-postgresql</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateMavenPlugin
examples:
- description: '`MigrateMavenPluginTest#replaceSpringBootMavenPlugin`'
  sources:
  - before: |
      <project>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.2.5.Final</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <build>
              <plugins>
                  <plugin>
                      <groupId>org.springframework.boot</groupId>
                      <artifactId>spring-boot-maven-plugin</artifactId>
                      <version>3.1.0</version>
                  </plugin>
              </plugins>
          </build>
      </project>
    after: |
      <project>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.2.5.Final</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <build>
              <plugins>
                  <plugin>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-maven-plugin</artifactId>
                      <version>3.2.5.Final</version>
                      <executions>
                          <execution>
                              <goals>
                                  <goal>build</goal>
                                  <goal>generate-code</goal>
                                  <goal>generate-code-tests</goal>
                              </goals>
                          </execution>
                      </executions>
                      <extensions>true</extensions>
                  </plugin>
              </plugins>
          </build>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringBootDevTools
examples:
- description: '`MigrateSpringBootDevToolsTest#removeDevToolsProperties`'
  sources:
  - before: |
      server.port=8080
      spring.devtools.restart.enabled=true
      spring.devtools.livereload.enabled=true
      spring.application.name=myapp
    after: |
      server.port=8080
      spring.application.name=myapp
    path: application.properties
    language: properties
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringCloudServiceDiscovery
examples:
- description: '`MigrateSpringCloudServiceDiscoveryTest#removeEnableDiscoveryClientAnnotation`'
  sources:
  - before: |
      import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

      @EnableDiscoveryClient
      public class Application {
          public static void main(String[] args) {
              // Application startup
          }
      }
    after: |
      public class Application {
          public static void main(String[] args) {
              // Application startup
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringDataMongodb
examples:
- description: '`MigrateSpringDataMongodbTest#convertDocumentAnnotation`'
  sources:
  - before: |
      import org.springframework.data.mongodb.core.mapping.Document;

      @Document(collection = "users")
      public class User {
          private String id;
          private String name;

          public String getId() { return id; }
          public void setId(String id) { this.id = id; }
          public String getName() { return name; }
          public void setName(String name) { this.name = name; }
      }
    after: |
      import io.quarkus.mongodb.panache.common.MongoEntity;

      @MongoEntity(collection = "users")
      public class User {
          private String id;
          private String name;

          public String getId() { return id; }
          public void setId(String id) { this.id = id; }
          public String getName() { return name; }
          public void setName(String name) { this.name = name; }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringTesting
examples:
- description: '`MigrateSpringTestingTest#convertSpringBootTestToQuarkusTest`'
  sources:
  - before: |
      import org.springframework.boot.test.context.SpringBootTest;
      import org.junit.jupiter.api.Test;

      @SpringBootTest
      class MyApplicationTest {
          @Test
          void contextLoads() {
          }
      }
    after: |
      import io.quarkus.test.junit.QuarkusTest;
      import org.junit.jupiter.api.Test;

      @QuarkusTest
      class MyApplicationTest {
          @Test
          void contextLoads() {
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringTransactional
examples:
- description: '`MigrateSpringTransactionalTest#convertSpringTransactionalToJakarta`'
  sources:
  - before: |
      import org.springframework.transaction.annotation.Transactional;

      public class UserService {
          @Transactional
          public void saveUser() {
          }
      }
    after: |
      import jakarta.transaction.Transactional;

      public class UserService {
          @Transactional
          public void saveUser() {
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.MigrateSpringValidation
examples:
- description: '`MigrateSpringValidationTest#migrateValidationDependency`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-starter-validation</artifactId>
                  <version>3.2.0</version>
              </dependency>
          </dependencies>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>1.0.0</version>
          <dependencyManagement>
              <dependencies>
                  <dependency>
                      <groupId>io.quarkus.platform</groupId>
                      <artifactId>quarkus-bom</artifactId>
                      <version>3.26.4</version>
                      <type>pom</type>
                      <scope>import</scope>
                  </dependency>
              </dependencies>
          </dependencyManagement>
          <dependencies>
              <dependency>
                  <groupId>io.quarkus</groupId>
                  <artifactId>quarkus-hibernate-validator</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.RemoveSpringBootParent
examples:
- description: '`RemoveSpringBootParentTest#removeSpringBootParent`'
  sources:
  - before: |
      <project>
          <modelVersion>4.0.0</modelVersion>

          <parent>
              <groupId>org.springframework.boot</groupId>
              <artifactId>spring-boot-starter-parent</artifactId>
              <version>3.1.0</version>
              <relativePath/>
          </parent>

          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>

          <dependencies>
              <dependency>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-starter-web</artifactId>
              </dependency>
          </dependencies>
      </project>
    after: |
      <project>
          <modelVersion>4.0.0</modelVersion>

          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>

          <dependencies>
              <dependency>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-starter-web</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.ReplaceSpringBootApplication
examples:
- description: '`ReplaceSpringBootApplicationTest#replaceSpringBootApplicationAndUpdateMainMethod`'
  sources:
  - before: |
      package com.example;

      import org.springframework.boot.SpringApplication;
      import org.springframework.boot.autoconfigure.SpringBootApplication;

      @SpringBootApplication
      public class DemoApplication {
          public static void main(String[] args) {
              SpringApplication.run(DemoApplication.class, args);
          }
      }
    after: |
      package com.example;

      import io.quarkus.runtime.Quarkus;
      import io.quarkus.runtime.annotations.QuarkusMain;

      @QuarkusMain
      public class DemoApplication {
          public static void main(String[] args) {
              Quarkus.run(args);
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.ResponseEntityToJaxRsResponse
examples:
- description: '`ResponseEntityToJaxRsResponseTest#ok`'
  sources:
  - before: |
      import org.springframework.http.ResponseEntity;
      import org.springframework.web.bind.annotation.GetMapping;
      import org.springframework.web.bind.annotation.RestController;

      @RestController
      class ProductController {
          @GetMapping("/products/{id}")
          ResponseEntity<Product> getProduct() {
              Product product = new Product();
              return ResponseEntity.ok(product);
          }
      }

      class Product {
          String name;
      }
    after: |
      import jakarta.ws.rs.core.Response;
      import org.springframework.web.bind.annotation.GetMapping;
      import org.springframework.web.bind.annotation.RestController;

      @RestController
      class ProductController {
          @GetMapping("/products/{id}")
          Response<Product> getProduct() {
              Product product = new Product();
              return Response.ok(product);
          }
      }

      class Product {
          String name;
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.SpringApplicationRunToQuarkusRun
examples:
- description: '`SpringApplicationRunToQuarkusRunTest#replaceSpringApplicationRun`'
  sources:
  - before: |
      package com.example;

      import org.springframework.boot.SpringApplication;
      import org.springframework.boot.autoconfigure.SpringBootApplication;

      @SpringBootApplication
      public class DemoApplication {
          public static void main(String[] args) {
              SpringApplication.run(DemoApplication.class, args);
          }
      }
    after: |
      package com.example;

      import io.quarkus.runtime.Quarkus;
      import org.springframework.boot.autoconfigure.SpringBootApplication;

      @SpringBootApplication
      public class DemoApplication {
          public static void main(String[] args) {
              Quarkus.run(args);
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.SpringBeanToCdiProduces
examples:
- description: '`SpringBeanToCdiProducesTest#migrateBeanToProduces`'
  sources:
  - before: |
      import org.springframework.context.annotation.Bean;
      import org.springframework.web.client.RestTemplate;

      class AppConfig {
          @Bean
          RestTemplate restTemplate() {
              return new RestTemplate();
          }
      }
    after: |
      import jakarta.enterprise.context.ApplicationScoped;
      import jakarta.enterprise.inject.Produces;
      import org.springframework.web.client.RestTemplate;

      class AppConfig {
          @Produces
          @ApplicationScoped
          RestTemplate restTemplate() {
              return new RestTemplate();
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.SpringBootToQuarkus
examples:
- description: '`SpringBootToQuarkusTest#migrateSpringBootParentToQuarkusBOM`'
  sources:
  - before: project
    language: mavenProject
  - before: |
      <project>
          <parent>
              <groupId>org.springframework.boot</groupId>
              <artifactId>spring-boot-starter-parent</artifactId>
              <version>3.1.0</version>
          </parent>
          <groupId>com.example</groupId>
          <artifactId>demo</artifactId>
          <version>0.0.1-SNAPSHOT</version>
          <properties>
              <java.version>17</java.version>
          </properties>
          <dependencies>
              <dependency>
                  <groupId>org.springframework.boot</groupId>
                  <artifactId>spring-boot-starter-web</artifactId>
              </dependency>
          </dependencies>
      </project>
    path: pom.xml
    language: xml
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.SpringEventListenerToObserves
examples:
- description: '`SpringEventListenerToObservesTest#convertEventListenerToObserves`'
  sources:
  - before: |
      import org.springframework.context.event.EventListener;

      public class MyEventListener {
          @EventListener
          public void handleEvent(MyEvent event) {
              System.out.println("Event received: " + event);
          }
      }
    after: |
      import jakarta.enterprise.event.Observes;

      public class MyEventListener {
          public void handleEvent(@Observes MyEvent event) {
              System.out.println("Event received: " + event);
          }
      }
    language: java
  - before: |
      public class MyEvent {
          private String message;
          public String getMessage() { return message; }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.SpringHealthIndicatorToQuarkus
examples:
- description: '`SpringHealthIndicatorToQuarkusTest#convertSimpleHealthIndicator`'
  sources:
  - before: |
      import org.springframework.boot.actuate.health.Health;
      import org.springframework.boot.actuate.health.HealthIndicator;

      public class CustomHealthIndicator implements HealthIndicator {
          @Override
          public Health health() {
              return Health.up().build();
          }
      }
    after: |
      import org.springframework.boot.actuate.health.HealthCheckResponse;
      import org.springframework.boot.actuate.health.HealthCheck;

      public class CustomHealthIndicator implements HealthCheck {
          @Override
          public HealthCheckResponse call() {
              return HealthCheckResponse.up().build();
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.StereotypeAnnotationsToCDI
examples:
- description: '`SpringAnnotationsToCdiTest#migrateConfigurationWithBeans`'
  sources:
  - before: |
      import org.springframework.context.annotation.Bean;
      import org.springframework.context.annotation.Configuration;
      import org.springframework.web.client.RestTemplate;

      @Configuration
      public class AppConfig {
          @Bean
          public RestTemplate restTemplate() {
              return new RestTemplate();
          }
      }
    after: |
      import jakarta.enterprise.context.ApplicationScoped;
      import jakarta.enterprise.inject.Produces;
      import org.springframework.web.client.RestTemplate;

      @ApplicationScoped
      public class AppConfig {
          @Produces
          @ApplicationScoped
          public RestTemplate restTemplate() {
              return new RestTemplate();
          }
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.ValueToCdiConfigProperty
examples:
- description: '`ValueToCdiConfigPropertyTest#migrateValueToConfigProperty`'
  sources:
  - before: |
      import org.springframework.beans.factory.annotation.Value;

      class ConfigService {
          @Value("${app.name}")
          private String appName;

          @Value("${app.timeout:30}")
          private int timeout;
      }
    after: |
      import org.eclipse.microprofile.config.inject.ConfigProperty;

      class ConfigService {
          @ConfigProperty(name = "app.name")
          private String appName;

          @ConfigProperty(name = "app.timeout", defaultValue = "30")
          private int timeout;
      }
    language: java
---
type: specs.openrewrite.org/v1beta/example
recipeName: org.openrewrite.quarkus.spring.WebToJaxRs
examples:
- description: '`WebToJaxRsTest#convertRestController`'
  sources:
  - before: |
      import org.springframework.web.bind.annotation.RestController;
      import org.springframework.web.bind.annotation.GetMapping;

      @RestController
      public class UserController {

          @GetMapping("/users")
          public String getUsers() {
              return "users";
          }
      }
    after: |
      import jakarta.ws.rs.GET;
      import jakarta.ws.rs.Path;

      @Path("")
      public class UserController {

          @GET
          @Path("/users")
          public String getUsers() {
              return "users";
          }
      }
    language: java
